Als     Hauptberechnung    wird     die    sogenannte     ``Phasengang-Methode
zur      Reglerdimensionierung''      von     Jakob      Zellweger      (FHNW)
\cite{regelungstechnik:zellweger_short}   zu   Hilfe   genommen. Diese   wurde
urspr\"unglich  als  vereinfachte  grafische  Methode  zur  Approximation  der
-20dB/Dek Methode erarbeitet und soll im Rahmen dieses Projektes automatisiert
werden. Schlussendlich   soll   sie   zur   numerischen   Berechnung   mittels
N\"aherungen in das Tool implementiert sein.

Um die  Berechnung mit  der Phasengang-Methode  zu erm\"oglichen,  muss zuerst
die  vermessene  Regelstrecke  in   eine  Funktion  im  Bildbereich  gewandelt
werden. Dazu  wird die  bereits  erw\"ahnte Matlab-Funktion  \code{p2\_sani.m}
verwendet  \todo{Ist  dies  bezogen  auf  das  schlussendliche  Programm  noch
korrekt? Falls nein,  anpassen}. Die Berechnung anhand  der Phasengang-Methode
wird  nachfolgend  als  Rezept aufgef\"uhrt. Genauere  Informationen  sind
dem   Skript   \cite{regelungstechnik:zellweger_short}  zu   entnehmen.    Das
\"Uberschwingverhalten  des Regelkreises  soll  f\"ur dieses  Projekt in  drei
Stufen berechnet werden. Verwendet wird dazu folgende Abstufung:
\todo{Ist diese Einteilung des \"Uberschwingens noch aktuell oder wurde das
in der Auftragserweiterung angepasst?}


\begin{itemize}
    \item
        wenig \"Uberschwingen (ca. 0\%)
    \item
        mittleres \"Uberschwingen (ca. 16\%)
    \item
        starkes \"Uberschwingen (ca. 23\%)
\end{itemize}

\subsubsection{Rezept}
Als Erstes sollten folgende Begriffe definiert werden:
\begin{longtable}{lp{60mm}}
    \toprule
    \endhead
    \endfoot
    \endlastfoot

    % CONTENT HERE ---------------------------------------------------------- %

    $H_s(j\omega)                                                                   $ &  \"Ubertragungsfunktion der Regelstrecke \\
    $A_s(j\omega)=|H_s(j\omega)|                                                    $ &  Amplitudengang der Regelstrecke \\
    $\varphi_s(j\omega)=arg(H_s(j\omega))                                           $ &  Phasengang der Regelstrecke \\
    $H_r(j\omega)                                                                   $ &  \"Ubertragungsfunktion des Reglers \\
    $A_r(j\omega)=|H_r(j\omega)|                                                    $ &  Amplitudengang des Reglers \\
    $\varphi_r(j\omega)=arg(H_r(j\omega))                                           $ &  Phasengang des Reglers \\
    $H_o(j\omega)=H_s \cdot H_r(j\omega)                                            $ &  \"Ubertragungsfunktion des nicht geschlossenen Regelkreises \\
    $A_o(j\omega)=|H_o(j\omega)|                                                    $ &  Amplitudengang des nicht geschlossenen Regelkreises \\
    $\varphi_o(j\omega)=arg(H_o(j\omega))=\varphi_s(j\omega)+\varphi_r(j\omega)     $ &  Phasengang des nicht geschlossenen Regelkreises \\
    $H_{rpid}= K_{rk}\Big[ \frac{(1+sT_{nk})(1+sT_{vk})}{sT_{nk}}\Big]              $ & \"Ubertragungsfunktion des PID-Reglers \\
    $H_{rpi} = K_{rk}\Big[ 1 + \frac{1}{sT_{nk}} \Big] $ & \"Ubertragungsfunktion des PI-Reglers \\


    \bottomrule
    %\caption{Caption here}
\end{longtable}

\clearpage
\subsubsection{Rezept PID-Regler}
\todo{Grafische Illustration der Rezepte? W\"urde es der Leserin erleichtern,
sich ein Bild des Prozesses zu machen, speziell da die Phasengangmethode
ja im Kern eine grafische Methode ist.}


\begin{enumerate}
    \item
        Im  Phasengang muss  die  Frequenz  $\omega_{pid}$ gem\"ass  Gleichung
        \ref{eq:phi_s} bestimmt werden \footnotemark[1].
        \begin{equation} \label{eq:phi_s}
            \varphi_s(\omega_{pid}) = -135 \degree.
        \end{equation}
    \item
        Mittels  Ableitung  wird  die  Steigung des  Phasengangs  im  Punkt  $
        \omega_{pid} $ bestimmt.
    \item
        $\beta$ ist so w\"ahlen, dass Gleichung \ref{eq:dphi_o} erf\"ullt ist

        \begin{equation} \label{eq:dphi_o}
            \frac{d\varphi_o}{d\omega_{pid}}= -\frac{1}{2}.
        \end{equation}

        wobei:
        \vspace*{1em}

        \begin{center}
            $\frac{\omega_{pid}}{\beta}=\frac{1}{T_{vk}}$,
            $\omega_{pid} \cdot \beta=\frac{1}{T_{nk}}$,
            $T_p = 0$,
            $K_{rk} = 1$
        \end{center}

        \vspace*{1em}
        {\em{Mann Beachte: Falls $\beta$ komplex werden sollte, muss $\beta=1$ gesetzt werden.}}
        \vspace*{1em}
    \item
        Nun   werden    $T_{vk}$,   $T_{nk}$   sowie   $K_{rk}=1$    in   die
        \"Ubertragungsfunktion  $H_r$  eingesetzt. Daraus folgen  $\varphi_o$
        sowie $A_o$.   Je nach  gew\"unschtem \"Uberschwingverhalten  wird der
        entsprechende Wert  f\"ur $\varphi_s$ aus der  Tabelle \ref{tab:phi_s}
        herausgelesen.

        Durch Suchen des Punktes  $\omega_d$ gem\"ass Gleichung \ref{eq:phi_o}
        wird berechnet, an welchem Punkt  f\"ur $A_o$ eine Verst\"arkung von 1
        herrschen muss.

        \begin{equation} \label{eq:phi_o}
            \varphi_o(\omega_d)=\varphi_s.
        \end{equation}

        \begin{longtable}{llll}
            \toprule
            \endhead
            \endfoot
            \endlastfoot

            % CONTENT HERE ---------------------------------------------------------- %

            \"Uberschwingen & 0\%              & 16.3\%           & 23.3\% \\
            $\varphi_s$        & $-103.7 \degree$ & $-128.5 \degree$ & $-135 \degree$ \\

            \bottomrule
            \caption{Werte f\"ur $\varphi_s$}
            \label{tab:phi_s}
        \end{longtable}

    \item
        Durch geeignete Wahl von  $K_{rk}$ mithilfe von Gleichung \ref{eq:A_o}
        eine Verst\"arkung von 1 erzwingen:

        \begin{equation} \label{eq:A_o}
            A_o(\omega_d) \cdot K_{rk} = 1
        \end{equation}

    \item
        Alle  Freiheitsgrade des  PID-Reglers  sind hiermit  bestimmt und  der
        Regler nach der Phasengang-Methode vollst\"andig dimensioniert.
\end{enumerate}

\footnotetext[1]{Der Winkel stellt keinen endg\"ultigen Wert dar. Dieser wurde von Jakob Zellweger fixiert, um eine grafische Evaluation \"uberhaupt zu erm\"oglichen. Durch \"andern dieses Wertes kann je nach Regelstrecke das
Regelverhalten weiter optimiert werden.}


\subsubsection{Rezept PI-Regler}

\begin{enumerate}
    \item
        Im  Phasengang  muss  die Frequenz  $\omega_{pi}$  gem\"ass  Gleichung
        \ref{eq:phi_s_pi} bestimmt werden \footnotemark[1].

        \begin{equation} \label{eq:phi_s_pi}
            \varphi_s(\omega_{pi})=-90 \degree.
        \end{equation}

    \item
        $T_{nk}$ kann dadurch direkt bestimmt werden.
        \begin{equation} \label{eq:Tnk_pi}
            T_{nk}=\frac{1}{\omega_{pi}}.
        \end{equation}

    \item
        Anschliessend    werden    $T_{nk}$     und    $K_{rk}=1$    in    die
        \"Ubertragungsfunktion $H_r$  eingesetzt, was $\varphi_o$  sowie $A_o$
        liefert. Jetzt  muss  je  nach gew\"ahltem  \"Uberschwingverhalten  der
        entsprechende Wert  f\"ur $\varphi_s$ aus der  Tabelle \ref{tab:phi_s}
        herausgelesen werden.

        Durch Suchen des Punktes  $\omega_d$ gem\"ass Gleichung \ref{eq:phi_o}
        wird festgelegt an  welchem Punkt f\"ur $A_o$ eine  Verst\"arkung von 1
        definiert werden muss.

    \item
        $K_{rk}$ wird  so gew\"ahlt, dass mithilfe  von Gleichung \ref{eq:A_o}
        eine Verst\"arkung von 1 erzwungen wird.

    \item
        Somit sind alle Freiheitsgrade des  PI-Reglers bestimmt und der Regler
        nach der Phasengang-Methode komplett dimensioniert.
\end{enumerate}
